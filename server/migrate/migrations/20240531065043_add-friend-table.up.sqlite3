CREATE TABLE IF NOT EXISTS Friend (
    FriendID INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT,
    UserID INTEGER NOT NULL,
    FriendUserID INTEGER NOT NULL,
    Status TEXT DEFAULT 'pending',
    CreatedAt TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,

    FOREIGN KEY (UserID) REFERENCES User(UserID) ON DELETE CASCADE,
    FOREIGN KEY (FriendUserID) REFERENCES User(UserID) ON DELETE CASCADE,

    CONSTRAINT unique_friendship UNIQUE (UserID, FriendUserID)
);
